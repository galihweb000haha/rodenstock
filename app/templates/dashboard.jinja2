{% extends "layout_dashboard.jinja2" %}
{% block content %}
    <!-- Content -->
    <div class="container-xxl flex-grow-1 container-p-y">

        {% for message in get_flashed_messages() %}
        <div class="alert alert-success alert-dismissible" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}

        
        <div class="row">
            <div class="col-lg-12 mb-4 order-0">
                <div class="card">
                <div class="d-flex align-items-end row">
                    <div class="col-sm-7">
                    <div class="card-body">
                        <h5 class="card-title text-primary">Hai {{ current_user.name }}! ðŸŽ‰</h5>
                        <p class="mb-4">
                            Dapatkan analisis yang mendalam dengan memberikan kami informasi pencapaian mahasiswa. Mulailah menyiapkan data yang tersedia!
                        </p>

                        <a href="{{ url_for('main_bp.basic_input') }}" class="btn btn-sm btn-outline-primary">Mulai Disini</a>
                    </div>
                    </div>
                    <div class="col-sm-5 text-center text-sm-left">
                    <div class="card-body pb-0 px-0 px-md-4">
                        <img
                        src="{{ url_for('static', filename='img/illustrations/man-with-laptop-light.png') }}"
                        height="140"
                        alt="View Badge User"
                        data-app-dark-img="illustrations/man-with-laptop-dark.png"
                        data-app-light-img="illustrations/man-with-laptop-light.png"
                        />
                    </div>
                    </div>
                </div>
                </div>
            </div>
            <!-- Total Revenue -->
            <div class="col-12 col-lg-12 order-2 order-md-3 order-lg-2 mb-4">
                <div class="card">
                  <div class="row g-4 mb-4 p-3">
                    <div class="col-sm-6 col-xl-3">
                      <div class="card">
                        <div class="card-body">
                          <div class="d-flex align-items-start justify-content-between">
                            <div class="content-left">
                              <span>Admin Prodi</span>
                              <div class="d-flex align-items-end mt-2">
                                <h4 class="mb-0 me-2">{{panel_card.admin_prodi_ammount}}</h4>
                              </div>
                              <small>Total Users</small>
                            </div>
                            <span class="badge bg-label-primary rounded p-2">
                              <i class="bx bx-user bx-sm"></i>
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6 col-xl-3">
                      <div class="card">
                        <div class="card-body">
                          <div class="d-flex align-items-start justify-content-between">
                            <div class="content-left">
                              <span>Data Mahasiswa</span>
                              <div class="d-flex align-items-end mt-2">
                                <h4 class="mb-0 me-2">4,567</h4>
                              </div>
                              <small>Total Data </small>
                            </div>
                            <span class="badge bg-label-danger rounded p-2">
                              <i class="bx bx-group bx-sm"></i>
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6 col-xl-3">
                      <div class="card">
                        <div class="card-body">
                          <div class="d-flex align-items-start justify-content-between">
                            <div class="content-left">
                              <span>Sudah Terisi</span>
                              <div class="d-flex align-items-end mt-2">
                                <h4 class="mb-0 me-2">{{panel_card.mahasiswa_ammount}}</h4>
                              </div>
                              <small>Total Data</small>
                            </div>
                            <span class="badge bg-label-success rounded p-2">
                              <i class="bx bx-user-check bx-sm"></i>
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6 col-xl-3">
                      <div class="card">
                        <div class="card-body">
                          <div class="d-flex align-items-start justify-content-between">
                            <div class="content-left">
                              <span>Belum Terisi</span>
                              <div class="d-flex align-items-end mt-2">
                                <h4 class="mb-0 me-2">237</h4>
                              </div>
                              <small>Total Data</small>
                            </div>
                            <span class="badge bg-label-warning rounded p-2">
                              <i class="bx bx-user-x bx-sm"></i>
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                    <div class="row row-bordered g-0">
                        <div class="col-md-12">
                            <div class="card-body">
                                <h5 class="card-header m-0 me-2 pb-3" title="Analisis deskriptif adalah metode untuk menggambarkan data secara ringkas dan jelas. Ini melibatkan penghitungan statistik dasar seperti rata-rata, median, dan variasi, serta pembuatan grafik untuk memvisualisasikan pola dan tren dalam data.">Analisis Deskriptif &#9432;</h5>
                                <div class="container">
                                    <div class="row">
                                        <h6 class="mt-3">Fitur Numerik</h6>
                                        <div class="table-responsive text-nowrap">
                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th>Attribute</th>
                                                        <th>Count</th>
                                                        <th>Mean</th>
                                                        <th>Std</th>
                                                        <th>Min</th>
                                                        <th>25%</th>
                                                        <th>50%</th>
                                                        <th>75%</th>
                                                        <th>Max</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>IPK</td>
                                                        <td>21</td>
                                                        <td>3.4</td>
                                                        <td>3</td>
                                                        <td>2</td>
                                                        <td>3</td>
                                                        <td>4</td>
                                                        <td>3</td>
                                                        <td>4</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Jumlah Prestasi</td>
                                                        <td>21</td>
                                                        <td>3.4</td>
                                                        <td>3</td>
                                                        <td>2</td>
                                                        <td>3</td>
                                                        <td>4</td>
                                                        <td>3</td>
                                                        <td>4</td>
                                                    </tr>
                                                    
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <h6 class="mt-3">Fitur Kategorikal</h6>
                                        <div class="table-responsive text-nowrap">
                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th>Attribute</th>
                                                        <th>Count</th>
                                                        <th>Mean</th>
                                                        <th>Std</th>
                                                        <th>Min</th>
                                                        <th>25%</th>
                                                        <th>50%</th>
                                                        <th>75%</th>
                                                        <th>Max</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>Pekerjaan Orang Tua</td>
                                                        <td>21</td>
                                                        <td>3.4</td>
                                                        <td>3</td>
                                                        <td>2</td>
                                                        <td>3</td>
                                                        <td>4</td>
                                                        <td>3</td>
                                                        <td>4</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Jenis Kelamin</td>
                                                        <td>21</td>
                                                        <td>3.4</td>
                                                        <td>3</td>
                                                        <td>2</td>
                                                        <td>3</td>
                                                        <td>4</td>
                                                        <td>3</td>
                                                        <td>4</td>
                                                    </tr>
                                                    
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr />
                    <div class="row row-bordered g-0">
                        <div class="col-md-8">
                            <div class="card-body">
                                <h5 class="card-header m-0 me-2 pb-3" title="Feature importance adalah metode untuk mengukur sejauh mana setiap fitur berkontribusi terhadap hasil atau prediksi model. Hal ini membantu kita mengidentifikasi fitur-fitur yang memiliki pengaruh paling signifikan dalam analisis data.">Tingkat Faktor Penting &#9432;</h5>
                                <div class="container">
                                    <div class="row">
                                        <img src="{{ url_for('static', filename='img/analytics/feature_importance.png') }}" />
                                    </div>
                                </div>
                            </div>                            
                        </div>
                        <div class="col-md-4">
                            <div class="card-body">
                                <h5 class="card-header m-0 me-2 pb-3">Analisis Hasil Prediksi</h5>
                                <div class="container">
                                    <div class="row">
                                        <div class="text-light small fw-semibold mb-1">Total Tingkat Relevansi</div>
                                        <div class="progress mb-3 p-0">
                                            <div
                                            class="progress-bar bg-success shadow-none"
                                            role="progressbar"
                                            style="width: {{relevan_percentage}}%"
                                            aria-valuenow="{{relevan_percentage}}"
                                            aria-valuemin="0"
                                            aria-valuemax="100"
                                            >{{relevan_percentage}}%</div>
                                            <div
                                            class="progress-bar bg-danger shadow-none"
                                            role="progressbar"
                                            style="width: {{tidak_relevan_percentage}}%"
                                            aria-valuenow="{{tidak_relevan_percentage}}"
                                            aria-valuemin="0"
                                            aria-valuemax="100"
                                            >{{tidak_relevan_percentage}}%</div>
                                        </div>
                                    </div>
                                    <a href="javascript:;" class="btn btn-sm btn-outline-primary">Lihat Selengkapnya</a>



                                    <hr/>
                                    <div class="row">
                                        <h5 class="mt-3" title="Analisis multivariat adalah metode statistik untuk memahami hubungan antara beberapa variabel sekaligus.">Analisis Multivariat &#9432;</h5>
                                        <div class="col-md-12">
                                            <img src="{{ url_for('static', filename='img/analytics/korelasi_ipk_dan_relevansi.png') }}" width="100%" />
                                        </div>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>  
                    <div class="row row-bordered g-0">
                        <div class="col-md-8">
                            <div class="card-body">
                                <h5 class="card-header m-0 me-2 pb-3" title="Analisis multivariat adalah metode statistik untuk memahami hubungan antara beberapa variabel sekaligus.">Matriks Korelasi &#9432;</h5>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <img src="{{ url_for('static', filename='img/analytics/matriks_korelasi.png') }}" width="100%" />
                                        </div>
                                    </div>
                                </div>
                            </div> 
                        </div>
                        <div class="col-md-4">
                            <div class="card-body">
                                <div class="container">
                                  <div class="row">
                                        <div class="col-md-12">
                                            <img src="{{ url_for('static', filename='img/analytics/presentasi_jenis_kelamin.png') }}" width="100%" />
                                        </div>
                                        <div class="col-md-12">
                                            <img src="{{ url_for('static', filename='img/analytics/korelasi_ipk_dan_prestasi.png') }}" width="100%" />
                                        </div>
                                        <div class="col-md-12">
                                            <img src="{{ url_for('static', filename='img/analytics/distribusi_kelas.png') }}" width="100%" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        <!--/ Total Revenue -->
        </div>
    </div>
    <!-- / Content -->



    {% block additionalscripts %}
        <!-- Vendors JS -->
        {# <script src="{{ url_for('static', filename='vendor/libs/apex-charts/apexcharts.js') }}"></script> #}
        <!-- Page JS -->
        {# <script src="{{ url_for('static', filename='js/dashboards-analytics.js') }}"></script> #}

        <script>
            $(document).ready(function() {
                $('.my_selection').select2();
                $('#navbar-collapse .select2-selection__arrow').removeClass('select2-selection__arrow')
                $('#navbar-collapse .select2-selection').css('border', 0)

                $('#search_menu').on('change', function() {
                    document.location.href = $(this).val()
                })
            });
        </script>
    {% endblock %}
{% endblock %}